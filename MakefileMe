CXX = g++
LIBS = `sdl-config --cflags --libs` -lGL -lGLU -lrt -lassimp
CXXFLAGS += -std=c++0x -Wno-write-strings -O3 -Wall
INCLUDE = -I.

all: constants.o types.o geometry_utils.o time_utils.o file_utils.o \
		 graphics_utils.o main.o data_utils.h
	$(CXX) constants.o types.o geometry_utils.o time_utils.o file_utils.o \
	graphics_utils.o main.o $(INCLUDE) $(LIBS) $(CXXFLAGS) \
	-o program

	cd Yasko_fortran; ./gf Kul.f90 obj; 
	cp -sf Yasko_fortran/Kul.o .

constants.o: constants.cpp constants.h 
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c -o constants.o constants.cpp

types.o: types.cpp types.h
	$(CXX) $(CXXFLAGS) -c -o types.o types.cpp

geometry_utils.o: geometry_utils.cpp geometry_utils.h
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c -o geometry_utils.o geometry_utils.cpp

time_utils.o:  time_utils.cpp  time_utils.h
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c  -o time_utils.o time_utils.cpp
	
file_utils.o: file_utils.cpp file_utils.h
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c -o file_utils.o file_utils.cpp
	
graphics_utils.o: graphics_utils.cpp graphics_utils.h
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c -o graphics_utils.o graphics_utils.cpp
	
main.o: main.cpp
	$(CXX) $(INCLUDE) $(CXXFLAGS) -c -o main.o main.cpp
	
clean:
	rm -rf *.o program Yasko_fortran/*.o
